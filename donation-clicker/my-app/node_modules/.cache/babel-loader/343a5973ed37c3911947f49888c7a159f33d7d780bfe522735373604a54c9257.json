{"ast":null,"code":"var _jsxFileName = \"/Users/genkimatsunaga/UniversityRelated/3rdSpring/WebEngineering/DonationClicker/donation-clicker/my-app/src/components/Leaderboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { ComposableMap, Geographies, Geography, ZoomableGroup } from \"react-simple-maps\";\nimport { socket } from \"../socket\";\nimport \"./Leaderboard.css\";\n\n// UPDATED: This is a new, working URL for the map data.\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst geoUrl = \"https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json\";\n\n// Example: Highlighting West African countries known for cacao production\nconst highlightedCountries = [\"CIV\", \"GHA\", \"NGA\", \"CMR\"];\nconst SDG_GOAL_CHILD_LABOR = 1000000; // Example goal in dollars\n\nfunction Leaderboard() {\n  _s();\n  const [leaderboard, setLeaderboard] = useState([]);\n  const [totals, setTotals] = useState({\n    totalDonations: 0,\n    totalChildrenSaved: 0\n  });\n  useEffect(() => {\n    // Handler functions\n    const handleUpdateLeaderboard = data => setLeaderboard(data);\n    const handleUpdateTotals = data => setTotals(data);\n\n    // Listen for events\n    socket.on(\"updateLeaderboard\", handleUpdateLeaderboard);\n    socket.on(\"updateTotals\", handleUpdateTotals);\n\n    // Clean up listeners on component unmount\n    return () => {\n      socket.off(\"updateLeaderboard\", handleUpdateLeaderboard);\n      socket.off(\"updateTotals\", handleUpdateTotals);\n    };\n  }, []); // Empty dependency array ensures this runs only once\n\n  const progress = totals.totalDonations / SDG_GOAL_CHILD_LABOR * 100;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"leaderboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"leaderboard-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Top 10 Donators\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n        children: leaderboard.map((user, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [user.username, \": $\", user.donated.toFixed(2)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"global-stats\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Global Impact\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Total Donations: $\", totals.totalDonations.toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Total Children Saved: \", totals.totalChildrenSaved]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Progress Towards SDG Goal (End Child Labour):\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-bar-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-bar\",\n          style: {\n            width: `${progress}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ComposableMap, {\n        projection: \"geoMercator\",\n        children: /*#__PURE__*/_jsxDEV(ZoomableGroup, {\n          center: [0, 0],\n          zoom: 1,\n          children: /*#__PURE__*/_jsxDEV(Geographies, {\n            geography: geoUrl,\n            children: ({\n              geographies\n            }) => geographies.map(geo => /*#__PURE__*/_jsxDEV(Geography, {\n              geography: geo\n              // The API now provides country codes in a different format\n              ,\n              fill: highlightedCountries.includes(geo.properties.ISO_A3) ? \"#E42\" : \"#D6D6DA\",\n              stroke: \"#FFF\"\n            }, geo.rsmKey, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(Leaderboard, \"rD5ZtlAHbgqltChxKW0ubmh3kyk=\");\n_c = Leaderboard;\nexport default Leaderboard;\nvar _c;\n$RefreshReg$(_c, \"Leaderboard\");","map":{"version":3,"names":["React","useState","useEffect","ComposableMap","Geographies","Geography","ZoomableGroup","socket","jsxDEV","_jsxDEV","geoUrl","highlightedCountries","SDG_GOAL_CHILD_LABOR","Leaderboard","_s","leaderboard","setLeaderboard","totals","setTotals","totalDonations","totalChildrenSaved","handleUpdateLeaderboard","data","handleUpdateTotals","on","off","progress","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","user","index","username","donated","toFixed","style","width","projection","center","zoom","geography","geographies","geo","fill","includes","properties","ISO_A3","stroke","rsmKey","_c","$RefreshReg$"],"sources":["/Users/genkimatsunaga/UniversityRelated/3rdSpring/WebEngineering/DonationClicker/donation-clicker/my-app/src/components/Leaderboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  ComposableMap,\n  Geographies,\n  Geography,\n  ZoomableGroup,\n} from \"react-simple-maps\";\nimport { socket } from \"../socket\";\nimport \"./Leaderboard.css\";\n\n// UPDATED: This is a new, working URL for the map data.\nconst geoUrl = \"https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json\";\n\n// Example: Highlighting West African countries known for cacao production\nconst highlightedCountries = [\"CIV\", \"GHA\", \"NGA\", \"CMR\"];\n\nconst SDG_GOAL_CHILD_LABOR = 1000000; // Example goal in dollars\n\nfunction Leaderboard() {\n  const [leaderboard, setLeaderboard] = useState([]);\n  const [totals, setTotals] = useState({\n    totalDonations: 0,\n    totalChildrenSaved: 0,\n  });\n\n  useEffect(() => {\n    // Handler functions\n    const handleUpdateLeaderboard = (data) => setLeaderboard(data);\n    const handleUpdateTotals = (data) => setTotals(data);\n\n    // Listen for events\n    socket.on(\"updateLeaderboard\", handleUpdateLeaderboard);\n    socket.on(\"updateTotals\", handleUpdateTotals);\n\n    // Clean up listeners on component unmount\n    return () => {\n      socket.off(\"updateLeaderboard\", handleUpdateLeaderboard);\n      socket.off(\"updateTotals\", handleUpdateTotals);\n    };\n  }, []); // Empty dependency array ensures this runs only once\n\n  const progress = (totals.totalDonations / SDG_GOAL_CHILD_LABOR) * 100;\n\n  return (\n    <div className=\"leaderboard-container\">\n      <div className=\"leaderboard-list\">\n        <h3>Top 10 Donators</h3>\n        <ol>\n          {leaderboard.map((user, index) => (\n            <li key={index}>\n              {user.username}: ${user.donated.toFixed(2)}\n            </li>\n          ))}\n        </ol>\n      </div>\n\n      <div className=\"global-stats\">\n        <h3>Global Impact</h3>\n        <p>Total Donations: ${totals.totalDonations.toFixed(2)}</p>\n        <p>Total Children Saved: {totals.totalChildrenSaved}</p>\n\n        <h4>Progress Towards SDG Goal (End Child Labour):</h4>\n        <div className=\"progress-bar-container\">\n          <div className=\"progress-bar\" style={{ width: `${progress}%` }}></div>\n        </div>\n\n        <ComposableMap projection=\"geoMercator\">\n          <ZoomableGroup center={[0, 0]} zoom={1}>\n            <Geographies geography={geoUrl}>\n              {({ geographies }) =>\n                geographies.map((geo) => (\n                  <Geography\n                    key={geo.rsmKey}\n                    geography={geo}\n                    // The API now provides country codes in a different format\n                    fill={\n                      highlightedCountries.includes(geo.properties.ISO_A3)\n                        ? \"#E42\"\n                        : \"#D6D6DA\"\n                    }\n                    stroke=\"#FFF\"\n                  />\n                ))\n              }\n            </Geographies>\n          </ZoomableGroup>\n        </ComposableMap>\n      </div>\n    </div>\n  );\n}\n\nexport default Leaderboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}